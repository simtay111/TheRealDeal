<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.1. Server Installation</title><link rel="stylesheet" href="docbook-xsl.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="The Neo4j Manual v1.6.1" /><link rel="up" href="server.html" title="Chapter 17. Neo4j Server" /><link rel="prev" href="server.html" title="Chapter 17. Neo4j Server" /><link rel="next" href="server-configuration.html" title="17.2. Server Configuration" /><link rel="preface" href="preface.html" title="Preface" /><link rel="part" href="introduction.html" title="Part I. Introduction" /><link rel="chapter" href="introduction-highlights.html" title="Chapter 1. Neo4j Highlights" /><link rel="chapter" href="graphdb-concepts.html" title="Chapter 2. Graph Database Concepts" /><link rel="chapter" href="graphdb-neo4j.html" title="Chapter 3. The Neo4j Graph Database" /><link rel="part" href="tutorials.html" title="Part II. Tutorials" /><link rel="chapter" href="tutorials-java-embedded.html" title="Chapter 4. Using Neo4j embedded in Java applications" /><link rel="chapter" href="cypher-cookbook.html" title="Chapter 5. Cypher Cookbook" /><link rel="chapter" href="tutorials-rest.html" title="Chapter 6. Using the Neo4j REST API" /><link rel="chapter" href="server-extending.html" title="Chapter 7. Extending the Neo4j Server" /><link rel="chapter" href="tutorial-traversal.html" title="Chapter 8. The Traversal Framework" /><link rel="chapter" href="domain-modeling-gallery.html" title="Chapter 9. Domain Modeling Gallery" /><link rel="chapter" href="languages.html" title="Chapter 10. Languages" /><link rel="chapter" href="tutorials-python-embedded.html" title="Chapter 11. Using Neo4j embedded in Python applications" /><link rel="part" href="reference-documentation.html" title="Part III. Reference" /><link rel="chapter" href="capabilities.html" title="Chapter 12. Capabilities" /><link rel="chapter" href="transactions.html" title="Chapter 13. Transaction Management" /><link rel="chapter" href="indexing.html" title="Chapter 14. Indexing" /><link rel="chapter" href="cypher-query-lang.html" title="Chapter 15. Cypher Query Language" /><link rel="chapter" href="graph-algo.html" title="Chapter 16. Graph Algorithms" /><link rel="chapter" href="server.html" title="Chapter 17. Neo4j Server" /><link rel="chapter" href="rest-api.html" title="Chapter 18. REST API" /><link rel="chapter" href="python-embedded.html" title="Chapter 19. Python embedded bindings" /><link rel="part" href="operations.html" title="Part IV. Operations" /><link rel="chapter" href="deployment.html" title="Chapter 20. Installation &amp; Deployment" /><link rel="chapter" href="embedded-configuration.html" title="Chapter 21. Configuration &amp; Performance" /><link rel="chapter" href="ha.html" title="Chapter 22. High Availability" /><link rel="chapter" href="operations-backup.html" title="Chapter 23. Backup" /><link rel="chapter" href="operations-security.html" title="Chapter 24. Security" /><link rel="chapter" href="operations-monitoring.html" title="Chapter 25. Monitoring" /><link rel="part" href="tools.html" title="Part V. Tools" /><link rel="chapter" href="tools-webadmin.html" title="Chapter 26. Web Administration" /><link rel="chapter" href="shell.html" title="Chapter 27. Neo4j Shell" /><link rel="part" href="community.html" title="Part VI. Community" /><link rel="chapter" href="community-support.html" title="Chapter 28. Community Support" /><link rel="chapter" href="community-contributing.html" title="Chapter 29. Contributing to Neo4j" /><link rel="appendix" href="manpages.html" title="Appendix A. Manpages" /><link rel="refentry" href="re01.html" title="neo4j" /><link rel="refentry" href="re02.html" title="neo4j-shell" /><link rel="refentry" href="re03.html" title="neo4j-coordinator" /><link rel="refentry" href="re04.html" title="neo4j-coordinator-shell" /><link rel="appendix" href="questions.html" title="Appendix B. Questions &amp; Answers" /><link rel="subsection" href="server-installation.html#_as_a_windows_service" title="17.1.1. As a Windows service" /><link rel="subsection" href="server-installation.html#_linux_service" title="17.1.2. Linux Service" /><link rel="subsection" href="server-installation.html#_mac_osx" title="17.1.3. Mac OSX" /><link rel="subsection" href="server-installation.html#_multiple_server_instances_on_one_machine" title="17.1.4. Multiple Server instances on one machine" /><link rel="subsection" href="server-installation.html#_high_availability_mode" title="17.1.5. High Availability Mode" /><link rel="copyright" href="ln-id522301.html" title="License: Creative Commons 3.0" />


<!-- favicon -->

<link rel="shortcut icon" href="http://neo4j.org/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://neo4j.org/favicon.ico" type="image/x-icon" />

<!-- style -->

<link href="css/shCore.css" rel="stylesheet" type="text/css" />
<link href="css/shCoreEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/shThemeEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/neo.css" rel="stylesheet" type="text/css" />

<!-- Syntax Highlighter -->

<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushJava.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushBash.js"></script>
<script type="text/javascript" src="js/shBrushPlain.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushGroovy.js"></script>
<script type="text/javascript" src="js/shBrushCypher.js"></script>
<script type="text/javascript" src="js/shBrushScala.js"></script>
<script type="text/javascript" src="js/shBrushPython.js"></script>

<!-- activate when needed
<script type="text/javascript" src="js/shBrushRuby.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>
-->
 
<script type="text/javascript">
  SyntaxHighlighter.defaults['tab-size'] = 4;
  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all()
</script>

<!-- JQuery -->

<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>

<!-- Replace SVG for browsers that lack support. -->
<script type="text/javascript" src="js/svgreplacer.js"></script>

<!-- Image Scaler -->

<script type="text/javascript" src="js/imagescaler.js"></script>

<!-- Table Styler -->

<script type="text/javascript" src="js/tablestyler.js"></script>


<div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">The Neo4j Manual</a></span> &gt; <span class="breadcrumb-link"><a href="reference-documentation.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="server.html">Neo4j Server</a></span> &gt; <span class="breadcrumb-node">Server Installation</span></div></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="server.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="server-configuration.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="server-installation"></a>17.1. Server Installation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="server-installation.html#_as_a_windows_service">17.1.1. As a Windows service</a></span></dt><dt><span class="section"><a href="server-installation.html#_linux_service">17.1.2. Linux Service</a></span></dt><dt><span class="section"><a href="server-installation.html#_mac_osx">17.1.3. Mac OSX</a></span></dt><dt><span class="section"><a href="server-installation.html#_multiple_server_instances_on_one_machine">17.1.4. Multiple Server instances on one machine</a></span></dt><dt><span class="section"><a href="server-installation.html#_high_availability_mode">17.1.5. High Availability Mode</a></span></dt></dl></div><p>Neo4j can be installed as a server, running either as a headless application or system service.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Download the latest release from <a class="ulink" href="http://neo4j.org/download" target="_top">http://neo4j.org/download</a>
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
select the appropriate version for your platform
</li></ul></div></li><li class="listitem"><p class="simpara">
Extract the contents of the archive
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
refer to the top-level extracted directory as <code class="literal">NEO4J_HOME</code>
</li></ul></div></li><li class="listitem"><p class="simpara">
Use the scripts in the <code class="literal">bin</code> directory
</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
for Linux/MacOS, run <code class="literal">$NEO4J_HOME/bin/neo4j start</code>
</li><li class="listitem">
for Windows, double-click on <code class="literal">%NEO4J_HOME%\bin\Neo4j.bat</code>
</li></ul></div></li><li class="listitem">
Refer to the packaged information in the <code class="literal">doc</code> directory for details
</li></ol></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_as_a_windows_service"></a>17.1.1. As a Windows service</h3></div></div></div><p>With administrative rights, Neo4j can be installed as a Windows service.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Click Start → All Programs → Accessories
</li><li class="listitem">
Right click Command Prompt → Run as Administrator
</li><li class="listitem">
Provide authorization and/or the Administrator password
</li><li class="listitem">
Navigate to <code class="literal">%NEO4J_HOME%</code>
</li><li class="listitem">
Run <code class="literal">bin\Neo4j.bat install</code>
</li></ol></div><p>To uninstall, run <code class="literal">bin\Neo4j.bat remove</code> as Administrator.</p><p>To query the status of the service, run <code class="literal">bin\Neo4j.bat query</code></p><p>To start/stop the service from the command prompt, run <code class="literal">bin\Neo4j.bat +action+</code></p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/admon/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Some users have reported problems on Windows when using the ZoneAlarm firewall.
If you are having problems getting large responses from the server, or if Webadmin does not work, try disabling ZoneAlarm.
Contact ZoneAlarm support to get information on how to resolve this.</p></td></tr></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_linux_service"></a>17.1.2. Linux Service</h3></div></div></div><p>Neo4j can participate in the normal system startup and shutdown process.
The following procedure should work on most popular Linux distributions:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<code class="literal">cd $NEO4J_HOME</code>
</li><li class="listitem"><p class="simpara">
<code class="literal">sudo ./bin/neo4j install</code>
</p><p class="simpara">if asked, enter your password to gain super-user privileges</p></li><li class="listitem"><p class="simpara">
<code class="literal">service neo4j-service status</code>
</p><p class="simpara">should indicate that the server is not running</p></li><li class="listitem"><p class="simpara">
<code class="literal">service neo4j-service start</code>
</p><p class="simpara">will start the server</p><p class="simpara">During installation you will be given the option to select the user Neo4j will run as. You will be asked to supply a username (defaulting to <code class="literal">neo4j</code>) and if that user is not present on the system it will be created as a system account and the <code class="literal">$NEO4J_HOME/data</code> directory will be <code class="literal">chown</code>'ed to that user.</p><p class="simpara">You are encouraged to create a dedicated user for running the service and for that reason it is suggested that you unpack the distribution package under <code class="literal">/opt</code> or your site specific optional packages directory.</p><p class="simpara">After installation you may have to do some platform specific configuration and performance tuning. For that, refer to  <a class="xref" href="configuration-linux-notes.html" title="21.9. Linux specific notes">Section 21.9, “Linux specific notes”</a>.</p><p class="simpara">Finally, note that if you chose to create a new user account, on uninstall you will be prompted to remove it from the system.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_mac_osx"></a>17.1.3. Mac OSX</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_via_homebrew"></a>via Homebrew</h4></div></div></div><p>Using <a class="ulink" href="http://mxcl.github.com/homebrew/" target="_top">Homebrew</a>, to install the latest stabel version of Neo4j Server, do</p><pre class="programlisting brush: shell">brew install neo4j &amp;&amp; neo4j start</pre><p>and symlink the database directory if desired.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_as_a_service"></a>as a Service</h4></div></div></div><p>Neo4j can be installed as a Mac launchd job:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<code class="literal">cd $NEO4J_HOME</code>
</li><li class="listitem">
<code class="literal">./bin/neo4j install</code>
</li><li class="listitem"><p class="simpara">
<code class="literal">launchctl list | grep neo</code>
</p><p class="simpara">should reveal the launchd "org.neo4j.server.7474" job for running the Neo4j Server</p></li><li class="listitem"><p class="simpara">
<code class="literal">./bin/neo4j status</code>
</p><p class="simpara">should indicate that the server is running</p></li><li class="listitem"><p class="simpara">
<code class="literal">launchctl stop org.neo4j.server.7474</code>
</p><p class="simpara">should stop the server.</p></li><li class="listitem"><p class="simpara">
<code class="literal">launchctl start org.neo4j.server.7474</code>
</p><p class="simpara">should start the server again.</p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_multiple_server_instances_on_one_machine"></a>17.1.4. Multiple Server instances on one machine</h3></div></div></div><p>Neo4j can be set up to run as several instances on one machine, providing for instance several databases for development. To configure, install two instances of the Neo4j Server in two different directories following the steps outlined below.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_first_instance"></a>First instance</h4></div></div></div><p>First, create a directory to hold both database instances, and unpack the development instance:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<code class="literal">cd $INSTANCE_ROOT</code>
</li><li class="listitem">
<code class="literal">mkdir -p neo4j</code>
</li><li class="listitem">
<code class="literal">cd neo4j</code>
</li><li class="listitem">
<code class="literal">tar -xvzf /path/to/neo4j-community.tar.gz</code>
</li><li class="listitem">
<code class="literal">mv neo4j-community dev</code>
</li></ol></div><p>Next, configure the instance by changing the following values in <code class="literal">dev/conf/neo4j-server.properties</code>, see even <a class="xref" href="security-server.html" title="24.1. Securing access to the Neo4j Server">Section 24.1, “Securing access to the Neo4j Server”</a>:</p><pre class="programlisting brush: shell">org.neo4j.server.webserver.port=7474

# Uncomment the following if the instance will be accessed from a host other than localhost.
org.neo4j.server.webserver.address=0.0.0.0</pre><p>Before running the Windows install or startup, change in <code class="literal">dev/conf/neo4j-wrapper.properties</code></p><pre class="programlisting brush: shell"># Name of the service for the first instance
wrapper.name=neo4j_1</pre><p>Start the instance:</p><p><code class="literal">dev/bin/neo4j start</code></p><p>Check that instance is available by browsing to <a class="ulink" href="http://localhost:7474/webadmin/" target="_top">http://localhost:7474/webadmin/</a>#</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_second_instance_testing_development"></a>Second instance (testing, development)</h4></div></div></div><p>In many cases during application development, it is desirable to have one development database set up, and another against which to run unit tests. For the following example, we are assuming that both databases will run on the same host.</p><p>Now create the unit testing second instance:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<code class="literal">cd $INSTANCE_ROOT/neo4j</code>
</li><li class="listitem">
<code class="literal">tar -xvzf /path/to/neo4j-community.tar.gz</code>
</li><li class="listitem">
<code class="literal">mv neo4j-community test</code>
</li></ol></div><p>It’s good practice to reset the unit testing database before each test run. This capability is not built into Neo4j server, so install a server plugin that does this:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<code class="literal">wget http://github.com/downloads/jexp/neo4j-clean-remote-db-addon/test-delete-db-extension-1.4.jar</code>
</li><li class="listitem">
<code class="literal">mv test-delete-db-extension-1.4.jar test/plugins</code>
</li></ol></div><p>Next, configure the instance by changing the following values in <code class="literal">test/conf/neo4j-server.properties to</code></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
change the server port to <code class="literal">7475</code>
</li><li class="listitem">
activate the clean-database server extension for remote cleaning of the database via REST
</li></ul></div><pre class="programlisting brush: shell"># Note the different port number from the development instance
org.neo4j.server.webserver.port=7475

# Uncomment the following if the instance will be accessed from a host other than localhost
org.neo4j.server.webserver.address=0.0.0.0

# Add the following lines to the JAXRS section at the bottom of the file
org.neo4j.server.thirdparty_jaxrs_classes=org.neo4j.server.extension.test.delete=/db/data/cleandb
org.neo4j.server.thirdparty.delete.key=secret-key</pre><p>Differentiate the instance from the development instance by modifying <code class="literal">test/conf/neo4j-wrapper.properties</code>.</p><pre class="programlisting brush: shell">wrapper.name=neo4j-test</pre><p>Start the instance:</p><p><code class="literal">test/bin/neo4j start</code></p><p>Check that instance is available by browsing to <a class="ulink" href="http://localhost:7475/webadmin/" target="_top">http://localhost:7475/webadmin/</a>#</p><p>Test the remote clean plugin by switching to the webadmin "Console" tab, selecting "HTTP" and entering the following:</p><pre class="programlisting brush: shell">DELETE /db/data/cleandb/secret-key</pre><p>If this returns a "200 OK" response, the plugin is configured correctly.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_high_availability_mode"></a>17.1.5. High Availability Mode</h3></div></div></div><p>For information on High Availability, please refer to <a class="xref" href="ha.html" title="Chapter 22. High Availability">Chapter 22, <i>High Availability</i></a>.</p></div></div><HR xmlns=""></HR><a xmlns="" href="ln-id522301.html"><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 2012 Neo Technology</p></a><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="server.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="server.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="server-configuration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
